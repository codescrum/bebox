# -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant.configure("2") do |config|
	<% self.each_with_index do |server, index| %>
	  config.vm.define :node_<%= index %> do |node|
	    node.vm.box = <%= "#{vagrant_box_base_name}_#{index}" %>
	    node.vm.hostname = "<%= server.hostname %>"
	    node.vm.network :public_network, :bridge => 'en0: Ethernet', :auto_config => false
	    node.vm.provision :shell, :inline => "sudo ifconfig eth1 <%= server.ip %> netmask 255.255.255.0 up"
	  end
	<% end %>
end